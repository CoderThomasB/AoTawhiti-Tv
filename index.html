<!DOCTYPE html>
<html>
<style>
	:root {
		--main-background-color: #9aff97;
	}

	body {
		background-color: var(--main-background-color);
		height: 100%;
		width: 100%;
		margin: 0px;
		padding: 0px;

		display: flex;
		flex-direction: column;
	}

	html {
		font-family: Verdana, Geneva, Tahoma, sans-serif;
		font-size: large;
		height: 100%;
		width: 100%;
		margin: 0px;
		padding: 0px;
		/* position: relative; */
	}

	main {
		width: 100%;
		margin: 0px;
		padding: 0px;
		position: relative;

		height: 100%;
		flex-basis: 0;
		flex-shrink: 1;
		flex-grow: 1;
	}

	footer {
		/* position: absolute; */

		/* bottom: 0px; */

		width: 100%;
		margin: 0px;
		padding: 0px;


		flex-basis: auto;
		flex-shrink: 0;
		flex-grow: 0;
	}

	#Date-Tags {
		/* background-color: aqua; */
		position: absolute;
		top: 0px;
		right: 0px;


		display: flex;
		flex-direction: row-reverse;
	}

	#This-Class-Text {
		font-size: x-large;

		position: absolute;
		top: 5vh;
		left: 6vw;
	}

	#Class-Name {
		font-size: 4vw;

		position: absolute;
		top: 10vh;
		left: 6vw;
	}

	#News-Text {
		position: absolute;

		bottom: 1em;
		left: 1em;

		font-size: x-large;
	}

	#News {
		background-color: rgba(0, 0, 0, 0.3);

		display: flex;
	}

	#Credit {
		position: absolute;

		font-size: small;
		text-align: center;
		color: white;

		width: 30vw;

		bottom: 1em;
		right: 1em;

		background-color: rgba(0, 0, 0, 0.3);
		padding: 1em;
		border-radius: 1em;
	}

	img {
		width: 100%;
	}

	.News-Item {
		background-color: rgba(255, 255, 255, 0.6);
		padding: 0.6em;
		border-radius: 1em;
		margin: 1em;
	}

	.Date-Tag {
		background-color: rgba(255, 255, 255, 0.6);
		margin: 0.5em;
		padding: 0.5em;
		border-radius: 1em;
	}
</style>

<head>
	<title>
		Ao Tawhiti Tv
	</title>
</head>

<body>
	<main>
		<span id="This-Class-Text">
			This class is:
		</span>
		<span id="Class-Name">
			Waves in Light and Sound and Optics
		</span>
		<div id="Date-Tags">
			<span class="Date-Tag" id="Time">
				1:29<sub>pm</sub>
			</span>
			<span class="Date-Tag" id="Date">
				22<sub>th</sub> of Feb
			</span>
		</div>

		<div id="Credit">
			<img src="https://lms.aotawhiti.school.nz/sites/all/themes/best_responsive/images/at_logo_white.png">
			<span>
				Website created by Thomas Booker.
			</span>
		</div>

		<span id="News-Text">
			News, Events And Information:
		</span>
	</main>
	<footer id="News">
		<div class="News-Item">
			<samp style="font-size: xx-large;">
				Athletics Day
			</samp>
			<br>
			<samp style="font-size: large;">
				Thursday the 25th of February
			</samp>
			<br>
			<samp style="font-size: medium;">
				Other Info on athletics day!
			</samp>
		</div>
		<div class="News-Item">
			<samp style="font-size: xx-large; text-align: center; display: block; margin-bottom: 0.4em;">
				Weather
			</samp>
			<iframe id="widget-iframe" height="195"
				src="https://services.metservice.com/weather-widget/widget?params=blue|medium|portrait|days-3|modern&loc=christchurch&type=urban"
				allowtransparency="true" style="border:none; border-radius: 1em;"></iframe>
		</div>
	</footer>
</body>
<script>
	function UpdateTimeDisplay() {
		let TimeSpan = document.getElementById("Time")
		let DateSpan = document.getElementById("Date")

		let Now = new Date(Date.now())

		let DateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }

		TimeSpan.innerText = new Date(Date.now()).toLocaleTimeString()
		DateSpan.innerText = new Date(Date.now()).toLocaleDateString("en-UK", DateOptions)
	}

	setInterval(UpdateTimeDisplay, 100)
</script>

<script>

	var NotificationServerConnection;
	function ConnectToNotificationServer() {
		// Create WebSocket connection.
		NotificationServerConnection = new WebSocket("ws://" + location.hostname + ":8924" + location.pathname);

		// Listen for messages
		NotificationServerConnection.addEventListener('message', function (event) {
			console.log('Message from server ', event.data);
		});
	}

	ConnectToNotificationServer()
</script>
<script>
	function UpdateTimeTableData() {
		var xhttp = new XMLHttpRequest();
		xhttp.onload = () => {
			console.log(xhttp.responseText)
		};
		xhttp.open("GET", "http://" + location.hostname + ":8924", true);
		xhttp.send();
	}

	setInterval(UpdateTimeTableData, 10000)
</script>

</html>